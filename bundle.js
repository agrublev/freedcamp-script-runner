parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"fygA":[function(require,module,exports) {
const o=require("fancy-log");class t{constructor(){this.opts={}}setOptions({quiet:o}){void 0!==o&&(this.opts.quiet="boolean"==typeof o&&o)}log(...t){this.opts.quiet||o(...t)}error(...t){o.error(...t)}}module.exports=new t;
},{}],"t3i2":[function(require,module,exports) {
module.exports=class extends Error{constructor(r){super(r),this.name="MaidError"}};
},{}],"qvgs":[function(require,module,exports) {
const e=require("path"),t=require("markdown-it"),n=require("./MaidError"),r=require("md-2-json"),a=new t({html:!0}),{regex:o,whole:s,wildcard:i,extra:c,and:l,matchers:{WHITE_SPACE:p,START:h,LAZY:f},flags:m}=require("rexrex"),d=c(p),u=l(h,i(p),["Runs"+f,"tasks"+f].join(d)),x=s(["\x3c!--","maid-tasks","--\x3e"].join(d)),g=new RegExp(u,m.INSENSITIVE),w=new RegExp(/`([^`]+)`/g),k=e=>Boolean(e.match(g))&&Boolean(e.match(w)),b=e=>{const t=Boolean(e.match(/in\s+parallel/i)),n=(e.match(/before|after/i)||["before"])[0];return{taskNames:e.match(w).map(e=>/`(.+)`/.exec(e)[1]),when:n,inParallel:Boolean(t)}},y=e=>{const t=[];for(const[n,r]of e.entries())"paragraph_open"===r.type&&t.push(e[n+1].content);return t},E=(e,t="h2")=>"heading_open"===e.type&&e.tag===t,S=(e,t="h2")=>"heading_close"===e.type&&e.tag===t,j=(e,t,n="h2")=>{const r=e.slice(t+1),a=r.findIndex(e=>"heading_open"===e.type&&e.tag===n);return r.slice(0,-1===a?void 0:a)},I=e=>e&&"html_block"===e.type&&o(x).test(e.content.trim()),_=e=>{let t;for(const[n,r]of e.entries())if(S(r)&&I(e[n+1])){t=e[n-1].content;break}return t};module.exports=((t,{section:o,filepath:s}={})=>{let i=a.parse(t),c=t.replace(/(<!-- toc -->(\s|\S)*?<!-- tocstop -->)/g,""),l=r.parse(c),p=Object.keys(l),h={},f=p.map(e=>{let t=l[e];delete t.raw,h[e]=Object.keys(t).map(e=>({name:e,desc:t[e].raw}))});f=f.filter(e=>"raw"!==e);const m=!s||"FcScripts.md"===e.basename(s);if(!o&&!m&&!(o=_(i)))return null;const d=o?"h3":"h2",u=[];if(o){const e=i.findIndex((e,t,n)=>E(e,"h2")&&n[t+1].content===o);if(e<0)throw new n(`Unable to find \`h2\` header titled: '${o}'`);i=j(i,e,"h2")}for(const[e,n]of i.entries())if(E(n,d)){const t={name:i[e+1].content,before:[],after:[],scripts:[]},n=j(i,e,d),r=y(n);t.description=r.filter(e=>{const n=k(e);if(n){const{taskNames:n,when:r,inParallel:a}=b(e);t[r].push({taskNames:n,inParallel:a})}return!n}).join("\n\n");for(const e of n)"fence"===e.type&&(t.scripts=[...t.scripts,{src:e.content,type:e.info}]);u.push(t)}return{filepath:s,tasks:u,catScripts:h}}),module.exports.isCommand=k,module.exports.parseCommand=b;
},{"./MaidError":"t3i2"}],"wTmB":[function(require,module,exports) {
const e=require("path"),r=require("joycon");module.exports=new r({stopDir:e.dirname(process.cwd())});
},{}],"0ANE":[function(require,module,exports) {
const e=require("./parseMarkdown"),r=require("./loadFile"),c=require("execa"),t=require("prepend-file"),n=e=>{c.shell(e)};module.exports=(async c=>{const{path:o,data:d}=r.loadSync(["FcScripts.md","contributing.md","CONTRIBUTING.md","README.md","readme.md"]);if(!o)return null;-1===d.indexOf("\x3c!-- toc --\x3e")&&t.sync(o,"\x3c!-- toc --\x3e"),n("npx markdown-toc FcScripts.md -i");let i=d.replace(/(<!-- toc -->(\s|\S)*?<!-- tocstop -->)/g,"");return e(i,{section:c,filepath:o})});
},{"./parseMarkdown":"qvgs","./loadFile":"wTmB"}],"iA0j":[function(require,module,exports) {
const e=require("path"),s=require("cross-spawn"),r=require("./MaidError");module.exports=(({script:o,task:t,type:c=o.type,resolve:n,reject:i})=>{const p=s(c,["-c",o.src,...process.argv.slice(2)],{stdio:"inherit",env:Object.assign({},process.env,{PATH:`${e.resolve("node_modules/.bin")}:${process.env.PATH}`})});return p.on("close",e=>{0===e?n():i(new r(`task "${t.name}" exited with code ${e}`))}),p});
},{"./MaidError":"t3i2"}],"Focm":[function(require,module,exports) {
const t=require("path"),e=require("chalk"),i=require("micromatch"),s=require("require-from-string"),a=require("./logger"),r=require("./readMaidFile"),n=require("./MaidError"),o=require("./runCLICommand"),c=require("inquirer");class l{constructor(t={}){return a.setOptions({quiet:t.quiet}),this.loadAsync(t)}async loadAsync(t){if(this.maidfile=await r(t.section),!this.maidfile)throw new n("No maidfile was found. Stop.");return this}async runTasks(t,e){if(t&&0!==t.length)if(e)await Promise.all(t.map(t=>this.runTask(t)));else for(const i of t)await this.runTask(i)}async runFile(t){await this.runTask("beforeAll",!1),await this.runTask(t),await this.runTask("afterAll",!1)}async runTask(t,i=!0){const s=t&&this.maidfile&&this.maidfile.tasks.find(e=>e.name===t);if(!s){if(i)throw new n(`No task called "${t}" was found. Stop.`);return}await this.runTaskHooks(s,"before");const r=Date.now();a.log(`Starting '${e.cyan(s.name)}'...`);for(const e of s.scripts)await this.runScript(e,s);a.log(`Finished '${e.cyan(s.name)}' ${e.magenta(`after ${Date.now()-r} ms`)}...`),await this.runTaskHooks(s,"after")}runScript(t,e){return new Promise((i,a)=>{const r=t=>{throw new n(`Task '${e.name}' failed.\n${t.stack}`)};if(u(t,["sh","bash"]))return o({script:t,task:e,resolve:i,reject:a});if(u(t,["py","python"]))return o({type:"python",script:t,task:e,resolve:i,reject:a});if(u(t,["js","javascript"])){let e;try{e=s(t.src,this.maidfile.filepath)}catch(c){return r(c)}return i("function"==typeof(e=e.default||e)?Promise.resolve(e()).catch(r):e)}return i()})}async runTaskHooks(t,e){const i="before"===e?"pre":"post",s=this.maidfile.tasks.filter(({name:e})=>e===`${i}${t.name}`);await this.runTasks(s.map(t=>t.name));for(const a of t[e]){const{taskNames:t,inParallel:e}=a;await this.runTasks(t,e)}}getHelp(s){const a=(s=[].concat(s)).length>0?this.maidfile.tasks.filter(t=>i.some(t.name,s)):this.maidfile.tasks;if(0===a.length)throw new n(`No tasks for pattern "${s.join(" ")}" was found. Stop.`);console.log(`\n  ${e.magenta.bold(`Task${a.length>1?"s":""} in ${t.relative(process.cwd(),this.maidfile.filepath)}:`)}\n\n`+a.map(t=>`  ${e.bold(t.name)}\n${e.dim(t.description?t.description.split("\n").map(t=>`      ${t.trim()}`).join("\n"):"      No description")}`).join("\n\n")+"\n")}runList(t){c.prompt([{type:"list",name:"category",message:"What category do you want to run?",choices:Object.keys(this.maidfile.catScripts)}]).then(({category:t})=>{let e=this.maidfile.catScripts[t].map(t=>`${t.name} ${t.desc?"\t~\t"+t.desc.replace(/\n/g," ").trim():""}`);c.prompt([{type:"list",name:"taskToRun",message:"Which task do you want to run",choices:e}]).then(({taskToRun:t})=>{this.runTask(t.split("\t~\t")[0].trim())})})}getList(){this.maidfile.tasks}}function u(t,e){return e.some(e=>e===t.type)}module.exports=(t=>new l(t));
},{"./logger":"fygA","./readMaidFile":"0ANE","./MaidError":"t3i2","./runCLICommand":"iA0j"}]},{},["Focm"], null)